# 基于 DataGo 股吧舆情数据的情绪一致性因子选股策略

本项目利用 **DataGo 股吧舆情数据** 构建了多个日频情绪因子，并从中提取了 **情绪一致性指数（senti_conform）** 构建月频选股因子，用于多空与多头策略回测。

## 数据来源与因子定义

- **数据平台**：DataGo 股吧用户发帖数据
- **计算频率**：日频

### 情绪类因子定义如下：

- **`senti_score_div`**（情绪比例指数）：
  
  $$
  \\text{情绪比例指数} = \\frac{\\text{正面帖子数} - \\text{负面帖子数}}{\\text{总帖子数}} \\,\\in [-1, 1]
  $$

  指标越大，看涨情绪占比越高。

- **`senti_score_log`**（情绪对数指数）：

  $$
  \\text{情绪对数指数} = \\ln\\left(\\frac{1 + \\text{正面帖子数}}{1 + \\text{负面帖子数}}\\right)
  $$

  指标越大，看涨情绪相对优势越强。

- **`senti_conform`**（情绪一致性指数）：

  $$
  \\text{情绪一致性} = 1 - \\sqrt{1 - (\\text{情绪比例指数})^2} \\,\\in [0, 1]
  $$

  越接近 1 表示投资者情绪越趋同（不管是集体看多还是集体看空）。

## 因子构建与策略逻辑

- 对每只股票计算过去 **20 个自然日内至少有 10 天有因子值** 的样本
- 对有效样本计算 **月频平均情绪一致性因子**
- 每月最后一个交易日调仓
- 将当月因子值从高到低排序，分为 **10 个分组**
  - **多空策略**：做多第 10 分组，做空第 1 分组
  - **多头策略**：只做多第 10 分组
  - 均为等权组合

## 回测设置

- **调仓频率**：每月
- **交易成本**：假设单边交易费为 0.0015
- **回测内容**：
  - 分层收益分析
  - 多空组合回测
  - 多头组合回测（含手续费）

## 回测结果（多头策略，含手续费）

| 指标               | 数值       |
|--------------------|------------|
| 年化收益率         | 11.04%     |
| 年化波动率         | 25.36%     |
| 夏普比率           | 0.54       |
| 最大回撤           | 37.15%     |
| Omega 比率         | -1.11      |
| Calmar 比率        | 0.37       |
| Sortino 比率       | 0.75       |

## 总结

本研究展示了基于社交媒体群体行为的一致性构建的因子，在选股中具有一定的区分能力。虽然回测结果略逊于基于新闻情绪因子的策略，但在低换手月频组合下仍能实现稳定的超额收益，表现出良好的实用性与可扩展性。
